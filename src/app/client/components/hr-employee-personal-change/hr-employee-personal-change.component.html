<div class="reports-container hr-employee-personal-change {{pageSource === 'employeeReports'? 'employee-custom-report-margin': ''}}">
<div class="section">
    <div class="row breadcrumb-container-reports" *ngIf="pageSource !== 'employeeReports'">
        <div class="col-12">
            <div class="breadcrumb-component">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                <li class="breadcrumb-item back-link">
                    <a (click)="goToBack()">Reports</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    <span class="breadcrumb-item-active">Employee Personal Change</span>
                </li>
                </ol>
            </nav>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 report-title align-self-center">
            <span>Employee Personal Change</span>
            <span *ngIf="reportGeneratedDate" class="report-title-date-time align-self-center">Report generated on {{ reportGeneratedDate }}</span>
        </div>
    </div>
    <div class="row">
        <div class="col-8">
            <div class="form-inline form-group">
                <div class="form-group">
                <h4>Beginning Date</h4>
                <div class="d-inline-flex">
                    <div class="custom-date-picker">
                        <div class="input-icon icon icon-calendar"></div>
                        <input class="form-control custom-input-field" placeholder="Month dd, yyyy" name="beginningDate" [(ngModel)]="selectedBeginningDate" (ngModelChange)="enableViewReportButton()" ngbDatepicker
                                [dayTemplate]="effectiveDate" [displayMonths]="2" [navigation]="'arrows'" [firstDayOfWeek]="7" #beginningDate="ngbDatepicker">
                        <button class="btn input-btn icon-shape" (click)="beginningDate.toggle(); openedBeginning = !openedBeginning" type="button"></button>
                    </div>
                </div>
                </div>
                <div class="form-group">
                <h4>Ending Date</h4>
                <div class="d-inline-flex">
                    <div class="custom-date-picker">
                        <div class="input-icon icon icon-calendar"></div>
                        <input class="form-control custom-input-field" placeholder="Month dd, yyyy" name="endDate" [(ngModel)]="selectedEndDate" (ngModelChange)="enableViewReportButton()" ngbDatepicker
                                [dayTemplate]="customDay" [displayMonths]="2" [navigation]="'arrows'" [firstDayOfWeek]="7" #endDate="ngbDatepicker">
                        <button class="btn input-btn icon-shape" (click)="endDate.toggle(); openedEnding = !openedEnding" type="button"></button>
                    </div>
                    <button class="btn btn-primary" (click)="getFilteredData()" [disabled]="disableViewReportButton">View Report</button>
                </div>
                </div>
            </div>
        </div>
    </div>
    <div class="custom-grid pt-1 mb-0">
    <hr class="m-0 mb-1 p-0"/>
    <div class="col-12" *ngIf="isLoading">
        <app-oasis-loader [isLoading]="isLoading"></app-oasis-loader>
    </div>
    <div class="row pt-3 mb-0" *ngIf="!isLoading">
        <div class="col-12 align-self-center">
            <div class="float-right section-title">
            <button type="button" class="btn btn-link btn-link-icon p-0 mr-2"
                    (click)="requestedFunction('print')">
                <span class="icon icon-pint"></span>
                <span>PRINT</span>
            </button>
            <button type="button" class="btn btn-link btn-link-icon p-0 ml-1 "
                    (click)="requestedFunction('download')">
                <span class="icon icon-square-upload"></span>
                <span>DOWNLOAD</span>
            </button>
            </div>
        </div>
    </div>
    <div class="row custom-grid-padding" *ngIf="!isLoading">
    <div class="col-lg-12">
        <dx-data-grid id="gridContainer"
        class="historical-grid pair-row-color-gray-100"
        [dataSource]="filteredEmployeesPersonalChangeDataRows"
        [columnAutoWidth]="true">
        <dxo-paging [enabled]="false"></dxo-paging>
        <dxi-column dataField="name" alignment="left" [allowSorting]="false"></dxi-column>
        <dxi-column dataField="fieldName" alignment="left" [allowSorting]="false"></dxi-column>
        <dxi-column dataField="beforeValue" alignment="left" [allowSorting]="false"></dxi-column>
        <dxi-column dataField="afterValue" alignment="left" [allowSorting]="false"></dxi-column>
        <dxi-column dataField="dateChanged" alignment="left" [allowSorting]="false" format="MM/dd/yyyy"></dxi-column>
        </dx-data-grid>
    </div>
    </div>
    </div>
</div>
</div>
